<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      lang="en">

<xi:include href="master.xml" />

<head>
  <title>Realm Linux Management Tools</title>
</head>

<body>

  <p>
    This page allows you to set certain attributes for this host and only
    this host.  These attributes replace RealmConfig and can be used to
    configure this host via Bcfg2.  Attributes that are inherited are 
    marked.
  </p>

  <div py:if="message != ''" class="message">
    <p py:content="message"/>
  </div>

  <table style="clear: left" class="noboarder">
    <tr>
      <td width="60%">
        <p>
Each host is initalized with part of its Web-Kickstart configuration.
These attributes replace much of the functionality of RealmConfig.  The
attributes imported are listed below.  By clicking the button on the
right, you will restore them to the values listed in the Web-Kickstart
configuration file.
        </p>
        <ul>
          <li py:for="key in webKickstartKeys"
              py:content="key.replace('.', ' ')"/>
          </ul>
      </td>

      <td>
        <table>
          <tr class="neutral">
            <th>
              <form method="post" action="${baseURL}/admin/host">
                <p>Re-import Web-Kickstart Data:</p>
                <input type="hidden" name="host_id" value="${host_id}"/>
                <input type="hidden" name="importWebKS" value="True"/>
                <input type="submit" value="Import"/>
              </form>
            </th>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  <h2>Current Attributes</h2>

  <table py:if="len(attributes) > 0">
    <tr py:for="attr in attributes" class="neutral">
      <th class="right" py:content="attr"/>
      <td>
        <i py:if="attributes[attr] is None">(Not Set)</i>
        <pre py:if="attributes[attr] is not None"
             py:content="str(attributes[attr])" />
      </td>
    </tr>
  </table>

  <p py:if="len(attributes) == 0">
    No attributes set.
  </p>

</body>

</html>

