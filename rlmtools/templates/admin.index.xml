<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      lang="en">

<xi:include href="master.xml" />

<head>
  <title>Realm Linux Management Tools</title>
</head>
<body>

  <p>
    You may search directly for Realm Linux clients here and be taken
    directly to their Host Admin Panel.  You may create or modify departments
    here and go directly to their Department Admin Panel.
  </p>

  <div py:if="message != ''" class="message">
    <p py:content="message"/>
  </div>

  <h2>Search For Client Admin Panels</h2>
  <form method="post" action="${baseURL}/search">
    <input type="hidden" name="dest" value="admin"/>
    <input type="text" name="searchBox" value="" size="15" />
    <input type="submit" value="Search" />
  </form>

  <h2 style="clear:both;" >Department Admin Panels</h2>

  <div class="category">
    <div py:for="d in depts" class="field">
      <a href="${baseURL}/admin/dept?dept_id=${d['dept_id']}"
        py:content="d['name']">Department of Liquid Dragon Eat You</a>
    </div>
  </div>

  <h2 class="space">Create or Modify Department</h2>

  <p>
    Departments will inhairit elements from their parent.  The 'root'
    department is the parent (or granparent) of all departments.  A child
    of the 'foo' department is 'foo-bar'.  A grandchild is 'foo-bar-baz'.
  </p>

  <p>
    You have the option of creating some AFS structures as well.  The following
    maps AFS directories to the function provided.
  </p>
  <ul>
    <li><strong>Departmental Cron Scripts:</strong>
      /afs/bp/system/@sys/athena/adm.DEPT</li>
    <li><strong>Web-Kickstart Config Directory:</strong>
      /afs/bp/system/config/linux-kickstart/configs/DEPT</li>
    <li><strong>Bcfg2 (Configuration Management) Repository:</strong>
      /afs/bp/system/config/linux-kickstart/bcfg2/DEPT</li>
    <li><a href="https://secure.linux.ncsu.edu/moin/Realm%20Linux%20Administrators%27%20Guide/Root%20Passwords%20and%20Admin%20Users">
        Root Password and System Admin List</a></li>
  </ul>

  <form method="get" action="${baseURL}/admin/createDept">
    <table>
      <tr>
        <td class="right">
          New Department Name:
        </td>
        <td>
          <input type="text" name="textBox" value="" size="15" />
        </td>
      </tr>
      <tr>
        <td class="right">
          Create Departmental Cron Scripts:
        </td>
        <td>
          <input type="checkbox" value="afscron" name="options"/>
        </td>
      </tr>
      <tr>
        <td class="right">
          Create Web-Kickstart Directory:
        </td>
        <td>
          <input type="checkbox" value="webks" name="options"/>
        </td>
      </tr>
      <tr>
        <td class="right">
          Create Bcfg2 Directory:
        </td>
        <td>
          <input type="checkbox" value="bcfg2" name="options"/>
        </td>
      </tr>
      <tr>
        <td class="right">
          Create New Root Password / System Admin Group:
        </td>
        <td>
          <input type="checkbox" value="admins" name="options"/>
        </td>
      </tr>
      <tr>
        <td class="right">
          Create Request:
        </td>
        <td>
          <input type="submit" value="Submit"/>
        </td>
      </tr>
    </table>
  </form>

  <h2>Manage ACLs</h2>

  <p>
    You may also manage access permissions for each department and their
    children on the <a href="${baseURL}/admin/aclGroups">ACL Groups</a>
    page.
  </p>

</body>

</html>

